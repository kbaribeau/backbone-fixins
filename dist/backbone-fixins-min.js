/*
 backbone-fixins 0.0.1

 Boilerplate that strengthens your backbone

 site: https://github.com/testdouble/backbone-fixins
*/
(function(){var a,b,c,d,e,f={}.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};c=this;if(c.Backbone==null)throw"backbone-fixins requires Backbone. Make sure you load Backbone first";(e=c.Backbone).Fixins||(e.Fixins={}),c=this,a=c.Backbone.Fixins,a.configuration=b={templateFunction:function(a){return c.JST[a]},defaultTemplateContext:function(a){var b;return((b=a.model||a.collection)!=null?b.toJSON():void 0)||{}},defaultTemplateLocator:function(b){var c;return c=a.helpers.constructorNameOf(b),"templates/"+a.helpers.titleToSnakeCase(c)}},a.configure=function(b){return a.configuration=a.helpers.merge(a.configuration,b)},a.resetConfiguration=function(){return a.configuration=b},Backbone.Fixins.helpers={constructorNameOf:function(a){var b;return b=/function (.{1,})\(/.exec(a.constructor.toString()),b&&b.length>1?b[1]:""},titleToSnakeCase:function(a){return a.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},startsWith:function(a,b){var c;return c=b.butIsntExactly,a.length>c.length&&a.substr(0,c.length)===c},merge:function(a,b){return _(a).chain().clone().extend(b).value()}},c=this,a=c.Backbone.Fixins,Backbone.Fixins.SuperView=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return g(c,b),c.prototype.render=function(){var b,c,e,f,g,h;e=a.configuration.templateFunction(d.locateTemplate(this)),b=d.templateContext(this),this.$el.html(e(b)),h=_(this).functions();for(f=0,g=h.length;f<g;f++)c=h[f],a.helpers.startsWith(c,{butIsntExactly:"render"})&&this[c]();return this.trigger("rendered")},c}(c.Backbone.View),d={templateContext:function(b){return b.templateContext!=null?(typeof b.templateContext=="function"?b.templateContext():void 0)||b.templateContext:a.configuration.defaultTemplateContext(b)},locateTemplate:function(b){return b.template!=null?(typeof b.template=="function"?b.template():void 0)||b.template:a.configuration.defaultTemplateLocator(b)}}}).call(this);
